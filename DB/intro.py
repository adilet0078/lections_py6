# PostgreSQL - —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö(–°–£–ë–î/DBMS)
# –≠—Ç–æ —Ä—è–¥ –ø—Ä–æ–≥—Ä–∞–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ–∑–≤–∞–ª—è—é—â–∏—Ö —Å–æ–∑–¥–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö ,—É–ø—Ä–∞–≤–ª—è—Ç—å –µ—é –∏ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –≤–Ω—É—Ç—Ä–∏ (CRUD)
# Postgres - —Å–∞–º–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö , –æ–Ω–∞ –æ–±—ä–µ–∫—Ç–Ω–æ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è, —Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü, –∏ —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π
# SQL (Structured Query language) - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ —Å—Ç—Ä—É–∫—Ç–∏—Ä–∏–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ,–æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö(–ë–î)
# -----------------------------------------------------------
# –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ë–î —á–µ—Ä–µ–∑ —é–∑–µ—Ä–∞ postgres:
# sudo -u postgres psql

# –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ —Å–≤–æ–µ–≥–æ —é–∑–µ—Ä–∞  
# psql

# —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä—é–∑–µ—Ä
# CREAT ROLE "username" SUPERUSER LOGIN PASSWORD '1'

# –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è  
# ALTER USER "username" with password "1"

# —Å–æ–∑–¥–∞–Ω–∏–µ –ë–î
#  CREAT DATABASE "name"
# \l —Å–ø–∏—Å–æ–∫ –≤—Å–µ–∑ –±–¥

# \du -–≤—Å–µ —é–∑–µ—Ä—ã  

# \c "name" - –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–¥

#\dt - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã (–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–¥ –∑–∞—Ä–∞–Ω–µ–µ)
 
# \d "name" - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ —Ç–∞–±–ª–∏—Ü—É (–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–¥ –∑–∞—Ä–∞–Ω–µ–µ)
 
# psql -u "username" -d "dbname" -–ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–º username –∫ dbname

# ----------------------------------------------------------------------------
# –¢–∏–ø—ã –ø–æ–ª–µ–π –≤ Postgres 

# Numeric types (—á–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã )
# a. smallint (2 bytes) -> -32767 to 32767
# b. integer(4 bytes) -> -2.147... to 2.147
# c. bigint(8 bytes) -> ...

# d. real(4 bytes) -> —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ
# f. serial(4 bytes) -> integer, auto-increment

# Character types(—Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã(—Å—Ç—Ä–æ–∫–æ–≤—ã–µ)):
# a. varchar (–∫–æ–ª-–≤–æ —Å–∏–º–≤–æ–ª–æ–≤) -> –µ—Å–ª–∏ –º—ã —É–∫–∞–∂–µ–º 50 —Å–∏–º–≤–æ–ª–æ–≤, –∞ –∑–∞–ø–æ–ª–Ω–∏–º —Ç–æ–ª—å–∫–æ 10, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç —Å–≤–æ–±–æ–¥–Ω—ã. –ú–∞–∫—Å 255

# b. char(–∫–æ–ª-–≤–æ —Å–∏–º–≤–æ–ª–æ–≤) -> –µ—Å–ª–∏ —É–∫–∞–∂–µ–º 50 —Å–∏–º–≤–æ–ª–æ–≤,–∞ –∑–∞–ø–æ–ª–Ω–∏–º —Ç–æ–ª—å–∫–æ 10, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–æ–±–µ–ª–æ–º 

#  c. text()-> –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª-–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ 

# Boolen Type
    #  a. boolean(1 bytes) -> true/false

#  date -> –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–∞—è –¥–∞—Ç–∞ (–≥–æ–¥.–º–µ—Å—è—Ü.–¥–µ–Ω—å)

# location -> –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Ç–æ—á–∫–∞ (x, y) - (245, -12) 

# enumerate types:
# ("a", "b", "c")
#  CREATE TYPE "any name" AS ENUM ('Happy', 'Sad', "Mad");

# ------------------------------------------------------
# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É
# INSERT INTO <tablename> [(columns)] VALUES (data), (data);

# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
# UPDATE <table> SET <column> = <new_value> WHERE <column> = <value>;

# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
# DELETE FROM <table> WHERE <column> = <value>;


# –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö  
# SELECT (columns) * FROM "table";


# ORDER BY : –ü–æ–∑–≤–∞–ª—è–µ—Ç –Ω–∞–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∏–ª–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é. ASC(–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é) DESC(–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å:  SELECT <row>  FROM <tablename> ORDER BY <row> [ASC|DESC] 
# WHERE : –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ª—è–º. –ë—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —É—Å–ª–æ–≤–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ WHERE.
# BETWEEN: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É.
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å:  SELECT <row>  FROM <tablename> WHERE <row> = <value>(—á–µ–º—É –ª–∏–±–æ)

# AND  –û–ü–†–ï–ê–¢–û–† –∏ , –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —É—Å–ª–æ–≤–∏—è–º.
# IN: WHERE <row> IN (<value>, <value>, ...)
#  LIMIT : –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–≤–æ–¥–∏–º—ã—Ö —Å—Ç—Ä–æ–∫.

# LIKE : –í—ã–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —à–∞–±–ª–æ–Ω—É. 
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å:  SELECT <row>  FROM <tablename> WHERE <row> LIKE <value>
# ILIKE : –í—ã–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —à–∞–±–ª–æ–Ω—É. –ß—É–≤—Å—Ç–≤–µ–Ω–Ω—ã–∏ÃÜ —Ä–µ–≥–∏—Å—Ç—Ä.
#  –°–∏–Ω—Ç–∞–∫—Å–∏—Å:  SELECT <row>  FROM <tablename> WHERE <row> ILIKE <value>

# GROUP BY : –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö. –†–∞–∑–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–æ–ª—É—á–∞–µ–º –≤ SELECT ,–ø—Ä–∏ —ç—Ç–æ–º –≥—Ä—É–ø–ø–∏—Ä—É—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É. –ò —Ç–µ–ø–µ—Ä—å –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

# HAVING : –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≥—Ä—É–ø–ø–∞–º. –°–¢–ê–í–ò–¢–¨ WHERE–Æ . —Å—Ç–∞–≤–∏—Ç —É—Å–ª–æ–≤–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≥—Ä—É–ø–ø–∞–º.
# ----------–≤ —Ç–∞–Ω–¥–µ–º–µ 
#  –∞–≥–ø–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: COUNT(), SUM(), AVG(), MIN(), MAX()
#  –≠–∫—Å–ø—Ä–æ—Ä—Ç –±–¥ (–¥–∞–º–ø)
# pg_dump -U postgres -W -f "filename" "database_name"
# import database
# -u <psql username> -d <database name> -f "filename"

# êåãêåÄêåÇêåä êåÅ·ö≥êå†êåÇ·õä / Jack Blice, [2024/3/11 11:32]
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
# 1) NOT NULL - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é
# 2) UNIQUE - –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
# 3) CHECK -> CHECK age > -1 - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É—Å–ª–æ–≤–∏–µ
# 4) PRIMARY KEY(–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ)
# 5) FOREIGN KEY(–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏)
# 6) ON DELETE - –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–≤—è–∑–∞–Ω—ã
# --------------------------------------------------------------------------------------------------------------------------
# JOIN: –≤—ã–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—ä —Ç–∞–±–ª–∏—Ü, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

# LEFT JOIN: –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã

# RIGHT JOIN: –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã

# SELECT p1.title, p1.price, p1.quantity, p1.price * o1.quantity as total_sum FROM product p1, orders o1 WHERE p1.id = o1.product_id;
#  - –ó–∞–ø—Ä–æ—Å —Å—Ä–∞–∑—É –≤ –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã

# êåãêåÄêåÇêåä êåÅ·ö≥êå†êåÇ·õä / Jack Blice, [2024/3/11 11:33]
# —Ç—É—Ç –µ—Å—Ç—å –æ—à–∏–±–∫–∏:
# SELECT p1.title, p1.price, p1.quantity, p1.price * o1.quantity as total_sum FROM product p1 JOIN orders o1 WHERE p1.id = o1.product_id;

# –≠–∫—Å–ø–æ—Ä—Ç –±–¥(–¥–∞–º–ø):
# pg_dump -U <username> -d 'dbname' > 'file.sql'

# –∏–º–ø–æ—Ä—Ç:
# psql -U <username> -d 'dbname' -f <filename>


##---------------##---------------##---------------##---------------##---------------##---------------
                                    # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

# SELECT count(product_name), c.category_name FROM products as p, categories as c WHERE p.category_id = c.category_id GROUP BY c.category_name;





# JOIN: –≤—ã–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö —Ç–∞–±–ª–∏—Ü–± —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

# LEFT JOIN: –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã

# RIGHT JOIN: –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã

# SELECT p1.title, p1.price, o1.quality, p1.price * o1.quality as total_sum FROM product p1, orders o1 WHEREp1.id = o1.product_id; - –ó–∞–ø—Ä–æ—Å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤ –¥–µ —Ç–∞–±–ª–∏—Ü—ã

# SELECT p1.title, p1.price, o1.quality, p1.price * o1.quality as total_sum FROM product p1 JOIN orders ON p1.id = o1.product_id;
# ----------------------------------------------------------------------------------------------

